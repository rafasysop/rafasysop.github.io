(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{75:function(e,t,c){},76:function(e,t,c){},82:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var a,n,s=c(2),r=c(66),l=c.n(r),i=(c(75),c(76),c(48)),j=c(20),o=Object(j.gql)(a||(a=Object(i.a)(["\nquery GetCOUNTRYCache {\n  Country @client\n}\n"]))),b=Object(j.gql)(n||(n=Object(i.a)(["\nquery GetCOUNTRY {\n  Country {\n    name\n    area\n    population\n    capital\n    numericCode\n    flag {\n      svgFile\n    }\n    topLevelDomains {\n      name\n    }\n  }\n}"]))),d=new j.ApolloClient({uri:"https://countries-274616.ew.r.appspot.com/",cache:new j.InMemoryCache}),u=c(29),O=c(9),h=c(22),x=(c(82),c.p+"static/media/loading.9e6d858a.svg"),m=c(3);var p=function(){var e,t=Object(j.useQuery)(o),c=t.data,a=t.client;console.log("Este \xe9 o Cache",c),console.log("Este \xe9 o Client",a);var n=Object(j.useQuery)(b),r=n.loading,l=n.data;c&&(l=c);var i=Object(s.useState)(""),d=Object(h.a)(i,2),O=d[0],p=d[1];return r?Object(m.jsx)("div",{className:"load",children:Object(m.jsx)("img",{src:x,alt:"Loading"})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"search-container",children:Object(m.jsx)("input",{name:"search",className:"search",onChange:function(e){var t=e.target;return p(t.value)},placeholder:"Search Country"})}),Object(m.jsx)("div",{className:"card-container",children:null===(e=l.Country)||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(O.toLocaleLowerCase())})).map((function(e){return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("img",{className:"flag-card",src:e.flag.svgFile,alt:e.name}),Object(m.jsx)("h3",{children:e.name}),"Capital: ",e.capital,Object(m.jsx)(u.b,{to:"/country/".concat(e.numericCode),className:"more-datails",children:"+ Details"})]},e.numericCode)}))})]})};c(88);var v=function(e){var t=e.title,c=e.subtitle,a=e.flag;return Object(m.jsxs)("header",{children:[a?Object(m.jsx)("img",{src:a,className:"header-flag",alt:t}):Object(m.jsx)("div",{className:"spacer"}),Object(m.jsxs)("div",{className:"text-title",children:[Object(m.jsx)("h1",{children:t}),Object(m.jsx)("h2",{children:c})]}),Object(m.jsx)("div",{className:"spacer"})]})};var f=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{title:"Country List",subtitle:""}),Object(m.jsx)(p,{})]})},g=c(43),C=c(42);var N=function(e){var t=Object(O.f)().id,c=Object(s.useState)(),a=Object(h.a)(c,2),n=a[0],r=a[1],l=Object(s.useState)(!1),i=Object(h.a)(l,2),b=i[0],d=i[1],p=Object(s.useState)(),f=Object(h.a)(p,2),N=f[0],y=f[1],S=Object(s.useState)(),L=Object(h.a)(S,2),w=L[0],D=L[1],F=Object(s.useState)(),k=Object(h.a)(F,2),q=k[0],E=k[1],A=Object(s.useState)(),I=Object(h.a)(A,2),Q=I[0],T=I[1],P=Object(s.useState)(),G=Object(h.a)(P,2),J=G[0],R=G[1],U=Object(j.useQuery)(o),Y=U.loading,B=U.error,M=U.data,z=U.client;if(Y)return Object(m.jsx)("div",{className:"load",children:Object(m.jsx)("img",{src:x,alt:"Loading"})});if(B)return Object(m.jsx)("p",{children:"Error :("});if(M.Country){var H=M.Country.findIndex((function(e){return e.numericCode===t}));void 0===n&&r(H);var K=M.Country.filter((function(e){return e.numericCode===t}))[0],V=K.name,W=K.flag,X=K.capital,Z=K.area,$=K.population,_=K.topLevelDomains;return void 0===N&&y(V),void 0===w&&D(X),void 0===q&&E(Z),void 0===Q&&T($),void 0===J&&R(_[0].name),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{title:"Country: ".concat(V),subtitle:"Capital: ".concat(X),flag:W.svgFile}),b?Object(m.jsxs)("div",{className:"details-container",children:[Object(m.jsx)("div",{className:"details-icons",children:Object(m.jsx)(C.a,{style:{cursor:"pointer"},onClick:function(){return d(!1)}})}),Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{colSpan:"2",children:"Editar"})})}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Name:"}),Object(m.jsx)("td",{className:"value-table",children:Object(m.jsx)("input",{onChange:function(e){y(e.target.value)},type:"text",value:N})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Capital:"}),Object(m.jsx)("td",{className:"value-table",children:Object(m.jsx)("input",{onChange:function(e){D(e.target.value)},type:"text",value:w})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Area:"}),Object(m.jsx)("td",{className:"value-table",children:Object(m.jsx)("input",{onChange:function(e){E(e.target.value)},type:"number",value:q})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Population:"}),Object(m.jsx)("td",{className:"value-table",children:Object(m.jsx)("input",{onChange:function(e){T(e.target.value)},type:"number",value:Q})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Top Level Domain:"}),Object(m.jsx)("td",{className:"value-table",children:Object(m.jsx)("input",{onChange:function(e){R(e.target.value)},value:J})})]})]})]}),Object(m.jsx)("button",{type:"button",onClick:function(){return function(){var e={Country:M.Country.map((function(e,t){return t===n?Object(g.a)(Object(g.a)({},e),{},{name:N,capital:w,area:q,population:Q,topLevelDomains:[{name:J}]}):e}))};z.writeQuery({query:o,data:Object(g.a)({},e)}),d(!1)}()},children:"Save Info"})]}):Object(m.jsxs)("div",{className:"details-container",children:[Object(m.jsxs)("div",{className:"details-icons",children:[Object(m.jsx)(u.b,{to:"/",children:Object(m.jsx)(C.a,{})}),Object(m.jsx)(C.b,{style:{cursor:"pointer"},onClick:function(){return d(!0)}})]}),Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{colSpan:"2",children:"Details"})})}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Area:"}),Object(m.jsx)("td",{className:"value-table",children:Z})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Population:"}),Object(m.jsx)("td",{className:"value-table",children:$})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"cap-table",children:"Top Level Domain:"}),Object(m.jsx)("td",{className:"value-table",children:_.map((function(e){return e.name}))})]})]})]})]})]})}};var y=function(){return Object(m.jsx)(u.a,{children:Object(m.jsxs)(O.c,{children:[Object(m.jsx)(O.a,{path:"/country/:id",component:N}),Object(m.jsx)(O.a,{path:"/",exact:!0,component:f})]})})};var S=function(){return Object(m.jsx)(j.ApolloProvider,{client:d,children:Object(m.jsx)(y,{})})};l.a.render(Object(m.jsx)(S,{}),document.getElementById("country"))}},[[89,1,2]]]);
//# sourceMappingURL=main.6d805c38.chunk.js.map